

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: extensions/scrollFollow.sectionManager.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="">
        <img src="img/toast-ui.png" width="100%" height="100%">
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">Source: extensions/scrollFollow.sectionManager.js</a></h1>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
    <div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="CodeBlockManager.html">CodeBlockManager</a><div class="hidden" id="CodeBlockManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="CodeBlockManager.html#.getSharedInstance">getSharedInstance</a></li><li><a href="CodeBlockManager.html#createCodeBlockHtml">createCodeBlockHtml</a></li><li><a href="CodeBlockManager.html#replaceElements">replaceElements</a></li><li><a href="CodeBlockManager.html#setElementReplacer">setElementReplacer</a></li><li><a href="CodeBlockManager.html#updateCodeTextById">updateCodeTextById</a></li></ul></div></li><li><a href="Command.html">Command</a><div class="hidden" id="Command_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Command.html#.TYPE">TYPE</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Command.html#.factory">factory</a></li><li><a href="Command.html#getName">getName</a></li><li><a href="Command.html#getType">getType</a></li><li><a href="Command.html#isGlobalType">isGlobalType</a></li><li><a href="Command.html#isMDType">isMDType</a></li><li><a href="Command.html#isWWType">isWWType</a></li><li><a href="Command.html#setKeyMap">setKeyMap</a></li></ul></div></li><li><a href="CommandManager.html">CommandManager</a><div class="hidden" id="CommandManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="CommandManager.html#addCommand">addCommand</a></li><li><a href="CommandManager.html#exec">exec</a></li></ul></div></li><li><a href="ComponentManager.html">ComponentManager</a><div class="hidden" id="ComponentManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="ComponentManager.html#.CommandManager.command">CommandManager.command</a></li><li><a href="ComponentManager.html#addManager">addManager</a></li><li><a href="ComponentManager.html#getManager">getManager</a></li><li><a href="ComponentManager.html#removeManager">removeManager</a></li></ul></div></li><li><a href="Convertor.html">Convertor</a><div class="hidden" id="Convertor_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Convertor.html#.factory">factory</a></li><li><a href="Convertor.html#.getMarkdownHighlightRenderer">getMarkdownHighlightRenderer</a></li><li><a href="Convertor.html#toHTML">toHTML</a></li><li><a href="Convertor.html#toHTMLWithCodeHightlight">toHTMLWithCodeHightlight</a></li><li><a href="Convertor.html#toMarkdown">toMarkdown</a></li></ul></div></li><li><a href="EventManager.html">EventManager</a><div class="hidden" id="EventManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="EventManager.html#addEventType">addEventType</a></li><li><a href="EventManager.html#emit">emit</a></li><li><a href="EventManager.html#emitReduce">emitReduce</a></li><li><a href="EventManager.html#listen">listen</a></li><li><a href="EventManager.html#removeEventHandler">removeEventHandler</a></li></ul></div></li><li><a href="ExtManager.html">ExtManager</a><div class="hidden" id="ExtManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="ExtManager.html#applyExtension">applyExtension</a></li><li><a href="ExtManager.html#defineExtension">defineExtension</a></li></ul></div></li><li><a href="I18n.html">I18n</a><div class="hidden" id="I18n_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="I18n.html#get">get</a></li><li><a href="I18n.html#setCode">setCode</a></li><li><a href="I18n.html#setLang">setLang</a></li></ul></div></li><li><a href="ImportManager.html">ImportManager</a><div class="hidden" id="ImportManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="ImportManager.html#_decodeURL">_decodeURL</a></li></ul></div></li><li><a href="KeyMapper.html">KeyMapper</a><div class="hidden" id="KeyMapper_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="KeyMapper.html#.getSharedInstance">getSharedInstance</a></li><li><a href="KeyMapper.html#convert">convert</a></li></ul></div></li><li><a href="Layout.html">Layout</a><div class="hidden" id="Layout_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Layout.html#changePreviewStyle">changePreviewStyle</a></li><li><a href="Layout.html#getEditorEl">getEditorEl</a></li><li><a href="Layout.html#getMdEditorContainerEl">getMdEditorContainerEl</a></li><li><a href="Layout.html#getPreviewEl">getPreviewEl</a></li><li><a href="Layout.html#getWwEditorContainerEl">getWwEditorContainerEl</a></li><li><a href="Layout.html#hide">hide</a></li><li><a href="Layout.html#init">init</a></li><li><a href="Layout.html#remove">remove</a></li><li><a href="Layout.html#show">show</a></li><li><a href="Layout.html#switchToMarkdown">switchToMarkdown</a></li><li><a href="Layout.html#switchToWYSIWYG">switchToWYSIWYG</a></li></ul></div></li><li><a href="MarkdownEditor.html">MarkdownEditor</a><div class="hidden" id="MarkdownEditor_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="MarkdownEditor.html#.factory">factory</a></li><li><a href="MarkdownEditor.html#addWidget">addWidget</a></li><li><a href="MarkdownEditor.html#blur">blur</a></li><li><a href="MarkdownEditor.html#focus">focus</a></li><li><a href="MarkdownEditor.html#getCaretPosition">getCaretPosition</a></li><li><a href="MarkdownEditor.html#getCurrentRange">getCurrentRange</a></li><li><a href="MarkdownEditor.html#getEditor">getEditor</a></li><li><a href="MarkdownEditor.html#getRange">getRange</a></li><li><a href="MarkdownEditor.html#getTextObject">getTextObject</a></li><li><a href="MarkdownEditor.html#getValue">getValue</a></li><li><a href="MarkdownEditor.html#moveCursorToEnd">moveCursorToEnd</a></li><li><a href="MarkdownEditor.html#moveCursorToStart">moveCursorToStart</a></li><li><a href="MarkdownEditor.html#remove">remove</a></li><li><a href="MarkdownEditor.html#replaceRelativeOffset">replaceRelativeOffset</a></li><li><a href="MarkdownEditor.html#replaceSelection">replaceSelection</a></li><li><a href="MarkdownEditor.html#reset">reset</a></li><li><a href="MarkdownEditor.html#scrollTop">scrollTop</a></li><li><a href="MarkdownEditor.html#setHeight">setHeight</a></li><li><a href="MarkdownEditor.html#setValue">setValue</a></li></ul></div></li><li><a href="MarkerManager.html">MarkerManager</a><div class="hidden" id="MarkerManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="MarkerManager.html#_calculateEndDiff">_calculateEndDiff</a></li><li><a href="MarkerManager.html#_calculateStartDiff">_calculateStartDiff</a></li><li><a href="MarkerManager.html#_forEachChanges">_forEachChanges</a></li><li><a href="MarkerManager.html#_getUpdateMarkersWithDiffs">_getUpdateMarkersWithDiffs</a></li><li><a href="MarkerManager.html#_makeMarkerDiffs">_makeMarkerDiffs</a></li><li><a href="MarkerManager.html#resetContent">resetContent</a></li><li><a href="MarkerManager.html#updateMarkersByContent">updateMarkersByContent</a></li></ul></div></li><li><a href="MdListManager.html">MdListManager</a><div class="hidden" id="MdListManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="MdListManager.html#.this.name">this.name</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="MdListManager.html#appendBlankLineIfNeed">appendBlankLineIfNeed</a></li><li><a href="MdListManager.html#createSortedLineRange">createSortedLineRange</a></li><li><a href="MdListManager.html#expandLineRangeIfNeed">expandLineRangeIfNeed</a></li><li><a href="MdListManager.html#isListOrParagraph">isListOrParagraph</a></li><li><a href="MdListManager.html#replaceLineText">replaceLineText</a></li></ul></div></li><li><a href="Preview.html">Preview</a><div class="hidden" id="Preview_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Preview.html#isVisible">isVisible</a></li><li><a href="Preview.html#refresh">refresh</a></li><li><a href="Preview.html#render">render</a></li><li><a href="Preview.html#setHeight">setHeight</a></li></ul></div></li><li><a href="SectionManager.html">SectionManager</a><div class="hidden" id="SectionManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="SectionManager.html#_addNewSection">_addNewSection</a></li><li><a href="SectionManager.html#_doFollowedLinesHaveCodeBlockEnd">_doFollowedLinesHaveCodeBlockEnd</a></li><li><a href="SectionManager.html#_eachLineState">_eachLineState</a></li><li><a href="SectionManager.html#_getPreviewSections">_getPreviewSections</a></li><li><a href="SectionManager.html#_isAtxHeader">_isAtxHeader</a></li><li><a href="SectionManager.html#_isCodeBlockEnd">_isCodeBlockEnd</a></li><li><a href="SectionManager.html#_isCodeBlockStart">_isCodeBlockStart</a></li><li><a href="SectionManager.html#_isSeTextHeader">_isSeTextHeader</a></li><li><a href="SectionManager.html#_isTable">_isTable</a></li><li><a href="SectionManager.html#_isTableAligner">_isTableAligner</a></li><li><a href="SectionManager.html#_isTableCode">_isTableCode</a></li><li><a href="SectionManager.html#_makeSectionData">_makeSectionData</a></li><li><a href="SectionManager.html#_matchPreviewSectionsWithSectionlist">_matchPreviewSectionsWithSectionlist</a></li><li><a href="SectionManager.html#_updateCurrentSectionEnd">_updateCurrentSectionEnd</a></li><li><a href="SectionManager.html#getSectionList">getSectionList</a></li><li><a href="SectionManager.html#makeSectionList">makeSectionList</a></li><li><a href="SectionManager.html#sectionByLine">sectionByLine</a></li><li><a href="SectionManager.html#sectionMatch">sectionMatch</a></li></ul></div></li><li><a href="ToastUIEditor.html">ToastUIEditor</a><div class="hidden" id="ToastUIEditor_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="ToastUIEditor.html#.i18n">i18n</a></li><li><a href="ToastUIEditor.html#.markdownItRenderer">markdownItRenderer</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="ToastUIEditor.html#.defineExtension">defineExtension</a></li><li><a href="ToastUIEditor.html#.factory">factory</a></li><li><a href="ToastUIEditor.html#.getInstances">getInstances</a></li><li><a href="ToastUIEditor.html#addHook">addHook</a></li><li><a href="ToastUIEditor.html#addWidget">addWidget</a></li><li><a href="ToastUIEditor.html#afterAddedCommand">afterAddedCommand</a></li><li><a href="ToastUIEditor.html#blur">blur</a></li><li><a href="ToastUIEditor.html#changeMode">changeMode</a></li><li><a href="ToastUIEditor.html#changePreviewStyle">changePreviewStyle</a></li><li><a href="ToastUIEditor.html#contentHeight">contentHeight</a></li><li><a href="ToastUIEditor.html#exec">exec</a></li><li><a href="ToastUIEditor.html#focus">focus</a></li><li><a href="ToastUIEditor.html#getCodeMirror">getCodeMirror</a></li><li><a href="ToastUIEditor.html#getCurrentModeEditor">getCurrentModeEditor</a></li><li><a href="ToastUIEditor.html#getCurrentPreviewStyle">getCurrentPreviewStyle</a></li><li><a href="ToastUIEditor.html#getHtml">getHtml</a></li><li><a href="ToastUIEditor.html#getMarkdown">getMarkdown</a></li><li><a href="ToastUIEditor.html#getRange">getRange</a></li><li><a href="ToastUIEditor.html#getSquire">getSquire</a></li><li><a href="ToastUIEditor.html#getTextObject">getTextObject</a></li><li><a href="ToastUIEditor.html#getUI">getUI</a></li><li><a href="ToastUIEditor.html#getValue">getValue</a></li><li><a href="ToastUIEditor.html#hide">hide</a></li><li><a href="ToastUIEditor.html#isMarkdownMode">isMarkdownMode</a></li><li><a href="ToastUIEditor.html#isViewOnly">isViewOnly</a></li><li><a href="ToastUIEditor.html#isWysiwygMode">isWysiwygMode</a></li><li><a href="ToastUIEditor.html#moveCursorToEnd">moveCursorToEnd</a></li><li><a href="ToastUIEditor.html#moveCursorToStart">moveCursorToStart</a></li><li><a href="ToastUIEditor.html#off">off</a></li><li><a href="ToastUIEditor.html#on">on</a></li><li><a href="ToastUIEditor.html#remove">remove</a></li><li><a href="ToastUIEditor.html#removeHook">removeHook</a></li><li><a href="ToastUIEditor.html#reset">reset</a></li><li><a href="ToastUIEditor.html#scrollTop">scrollTop</a></li><li><a href="ToastUIEditor.html#setHtml">setHtml</a></li><li><a href="ToastUIEditor.html#setMarkdown">setMarkdown</a></li><li><a href="ToastUIEditor.html#setUI">setUI</a></li><li><a href="ToastUIEditor.html#setValue">setValue</a></li><li><a href="ToastUIEditor.html#show">show</a></li></ul></div></li><li><a href="ToastUIEditorViewOnly.html">ToastUIEditorViewOnly</a><div class="hidden" id="ToastUIEditorViewOnly_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="ToastUIEditorViewOnly.html#addHook">addHook</a></li><li><a href="ToastUIEditorViewOnly.html#isMarkdownMode">isMarkdownMode</a></li><li><a href="ToastUIEditorViewOnly.html#isViewOnly">isViewOnly</a></li><li><a href="ToastUIEditorViewOnly.html#isWysiwygMode">isWysiwygMode</a></li><li><a href="ToastUIEditorViewOnly.html#off">off</a></li><li><a href="ToastUIEditorViewOnly.html#on">on</a></li><li><a href="ToastUIEditorViewOnly.html#remove">remove</a></li><li><a href="ToastUIEditorViewOnly.html#setMarkdown">setMarkdown</a></li><li><a href="ToastUIEditorViewOnly.html#setValue">setValue</a></li></ul></div></li><li><a href="WwClipboardManager.html">WwClipboardManager</a><div class="hidden" id="WwClipboardManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="WwClipboardManager.html#init">init</a></li></ul></div></li><li><a href="WwCodeBlockManager.html">WwCodeBlockManager</a><div class="hidden" id="WwCodeBlockManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="WwCodeBlockManager.html#.this.name">this.name</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="WwCodeBlockManager.html#convertToCodeblock">convertToCodeblock</a></li><li><a href="WwCodeBlockManager.html#isInCodeBlock">isInCodeBlock</a></li><li><a href="WwCodeBlockManager.html#prepareToPasteOnCodeblock">prepareToPasteOnCodeblock</a></li></ul></div></li><li><a href="WwHeadingManager.html">WwHeadingManager</a><div class="hidden" id="WwHeadingManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="WwHeadingManager.html#.this.name">this.name</a></li></ul></div></li><li><a href="WwHrManager.html">WwHrManager</a><div class="hidden" id="WwHrManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="WwHrManager.html#.this.name">this.name</a></li></ul></div></li><li><a href="WwListManager.html">WwListManager</a><div class="hidden" id="WwListManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="WwListManager.html#.this.name">this.name</a></li></ul></div></li><li><a href="WwMergedTableManager.html">WwMergedTableManager</a><div class="hidden" id="WwMergedTableManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="WwMergedTableManager.html#prepareToTableCellStuffing">prepareToTableCellStuffing</a></li><li><a href="WwMergedTableManager.html#tableCellAppendAidForTableElement">tableCellAppendAidForTableElement</a></li></ul></div></li><li><a href="WwMergedTableSelectionManager.html">WwMergedTableSelectionManager</a><div class="hidden" id="WwMergedTableSelectionManager_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="WwMergedTableSelectionManager.html#hasSelectedBothThAndTd">hasSelectedBothThAndTd</a></li><li><a href="WwMergedTableSelectionManager.html#highlightTableCellsBy">highlightTableCellsBy</a></li><li><a href="WwMergedTableSelectionManager.html#setTableSelectionTimerIfNeed">setTableSelectionTimerIfNeed</a></li><li><a href="WwMergedTableSelectionManager.html#styleToSelectedCells">styleToSelectedCells</a></li></ul></div></li><li><a href="WwPasteContentHelper.html">WwPasteContentHelper</a><div class="hidden" id="WwPasteContentHelper_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="WwPasteContentHelper.html#preparePaste">preparePaste</a></li></ul></div></li><li><a href="WwPManager.html">WwPManager</a><div class="hidden" id="WwPManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="WwPManager.html#.this.name">this.name</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="WwPManager.html#_splitPtagContentLines">_splitPtagContentLines</a></li></ul></div></li><li><a href="WwTableManager.html">WwTableManager</a><div class="hidden" id="WwTableManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="WwTableManager.html#.this.name">this.name</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="WwTableManager.html#_changeSelectionToTargetCell">_changeSelectionToTargetCell</a></li><li><a href="WwTableManager.html#_onPaste">_onPaste</a></li><li><a href="WwTableManager.html#destroy">destroy</a></li><li><a href="WwTableManager.html#getTableIDClassName">getTableIDClassName</a></li><li><a href="WwTableManager.html#isInTable">isInTable</a></li><li><a href="WwTableManager.html#isNonTextDeleting">isNonTextDeleting</a></li><li><a href="WwTableManager.html#prepareToPasteOnTable">prepareToPasteOnTable</a></li><li><a href="WwTableManager.html#prepareToTableCellStuffing">prepareToTableCellStuffing</a></li><li><a href="WwTableManager.html#resetLastCellNode">resetLastCellNode</a></li><li><a href="WwTableManager.html#setLastCellNode">setLastCellNode</a></li><li><a href="WwTableManager.html#tableCellAppendAidForTableElement">tableCellAppendAidForTableElement</a></li><li><a href="WwTableManager.html#wrapDanglingTableCellsIntoTrIfNeed">wrapDanglingTableCellsIntoTrIfNeed</a></li><li><a href="WwTableManager.html#wrapTheadAndTbodyIntoTableIfNeed">wrapTheadAndTbodyIntoTableIfNeed</a></li><li><a href="WwTableManager.html#wrapTrsIntoTbodyIfNeed">wrapTrsIntoTbodyIfNeed</a></li></ul></div></li><li><a href="WwTableSelectionManager.html">WwTableSelectionManager</a><div class="hidden" id="WwTableSelectionManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="WwTableSelectionManager.html#.this.name">this.name</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="WwTableSelectionManager.html#destroy">destroy</a></li><li><a href="WwTableSelectionManager.html#getSelectionRangeFromTable">getSelectionRangeFromTable</a></li><li><a href="WwTableSelectionManager.html#highlightTableCellsBy">highlightTableCellsBy</a></li><li><a href="WwTableSelectionManager.html#removeClassAttrbuteFromAllCellsIfNeed">removeClassAttrbuteFromAllCellsIfNeed</a></li><li><a href="WwTableSelectionManager.html#setTableSelectionTimerIfNeed">setTableSelectionTimerIfNeed</a></li><li><a href="WwTableSelectionManager.html#styleToSelectedCells">styleToSelectedCells</a></li></ul></div></li><li><a href="WwTaskManager.html">WwTaskManager</a><div class="hidden" id="WwTaskManager_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="WwTaskManager.html#.this.name">this.name</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="WwTaskManager.html#formatTask">formatTask</a></li><li><a href="WwTaskManager.html#isInTaskList">isInTaskList</a></li><li><a href="WwTaskManager.html#unformatTask">unformatTask</a></li></ul></div></li><li><a href="WwTextObject.html">WwTextObject</a><div class="hidden" id="WwTextObject_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="WwTextObject.html#deleteContent">deleteContent</a></li><li><a href="WwTextObject.html#expandEndOffset">expandEndOffset</a></li><li><a href="WwTextObject.html#expandStartOffset">expandStartOffset</a></li><li><a href="WwTextObject.html#getTextContent">getTextContent</a></li><li><a href="WwTextObject.html#peekStartBeforeOffset">peekStartBeforeOffset</a></li><li><a href="WwTextObject.html#replaceContent">replaceContent</a></li><li><a href="WwTextObject.html#setEndBeforeRange">setEndBeforeRange</a></li><li><a href="WwTextObject.html#setRange">setRange</a></li></ul></div></li><li><a href="WysiwygEditor.html">WysiwygEditor</a><div class="hidden" id="WysiwygEditor_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="WysiwygEditor.html#.factory">factory</a></li><li><a href="WysiwygEditor.html#.MarkdownEditor#init">MarkdownEditor#init</a></li><li><a href="WysiwygEditor.html#addKeyEventHandler">addKeyEventHandler</a></li><li><a href="WysiwygEditor.html#addWidget">addWidget</a></li><li><a href="WysiwygEditor.html#blur">blur</a></li><li><a href="WysiwygEditor.html#breakToNewDefaultBlock">breakToNewDefaultBlock</a></li><li><a href="WysiwygEditor.html#changeBlockFormatTo">changeBlockFormatTo</a></li><li><a href="WysiwygEditor.html#findTextNodeFilter">findTextNodeFilter</a></li><li><a href="WysiwygEditor.html#focus">focus</a></li><li><a href="WysiwygEditor.html#get$Body">get$Body</a></li><li><a href="WysiwygEditor.html#getEditor">getEditor</a></li><li><a href="WysiwygEditor.html#getRange">getRange</a></li><li><a href="WysiwygEditor.html#getTextObject">getTextObject</a></li><li><a href="WysiwygEditor.html#getValue">getValue</a></li><li><a href="WysiwygEditor.html#hasFormatWithRx">hasFormatWithRx</a></li><li><a href="WysiwygEditor.html#init">init</a></li><li><a href="WysiwygEditor.html#makeEmptyBlockCurrentSelection">makeEmptyBlockCurrentSelection</a></li><li><a href="WysiwygEditor.html#moveCursorToEnd">moveCursorToEnd</a></li><li><a href="WysiwygEditor.html#moveCursorToStart">moveCursorToStart</a></li><li><a href="WysiwygEditor.html#readySilentChange">readySilentChange</a></li><li><a href="WysiwygEditor.html#remove">remove</a></li><li><a href="WysiwygEditor.html#removeKeyEventHandler">removeKeyEventHandler</a></li><li><a href="WysiwygEditor.html#replaceContentText">replaceContentText</a></li><li><a href="WysiwygEditor.html#replaceRelativeOffset">replaceRelativeOffset</a></li><li><a href="WysiwygEditor.html#replaceSelection">replaceSelection</a></li><li><a href="WysiwygEditor.html#reset">reset</a></li><li><a href="WysiwygEditor.html#restoreSavedSelection">restoreSavedSelection</a></li><li><a href="WysiwygEditor.html#saveSelection">saveSelection</a></li><li><a href="WysiwygEditor.html#scrollTop">scrollTop</a></li><li><a href="WysiwygEditor.html#setHeight">setHeight</a></li><li><a href="WysiwygEditor.html#setValue">setValue</a></li><li><a href="WysiwygEditor.html#unwrapBlockTag">unwrapBlockTag</a></li></ul></div></li><li><a href="WysiwygMarkerHelper.html">WysiwygMarkerHelper</a><div class="hidden" id="WysiwygMarkerHelper_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="WysiwygMarkerHelper.html#_extendRangeToTextNodeIfHasNone">_extendRangeToTextNodeIfHasNone</a></li><li><a href="WysiwygMarkerHelper.html#_findOffsetNode">_findOffsetNode</a></li><li><a href="WysiwygMarkerHelper.html#_getExtraInfoOfRange">_getExtraInfoOfRange</a></li><li><a href="WysiwygMarkerHelper.html#clearSelect">clearSelect</a></li><li><a href="WysiwygMarkerHelper.html#getMarkerInfoOfCurrentSelection">getMarkerInfoOfCurrentSelection</a></li><li><a href="WysiwygMarkerHelper.html#getTextContent">getTextContent</a></li><li><a href="WysiwygMarkerHelper.html#selectOffsetRange">selectOffsetRange</a></li><li><a href="WysiwygMarkerHelper.html#updateMarkerWithExtraInfo">updateMarkerWithExtraInfo</a></li></ul></div></li></ul></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview Implements Scroll Follow Extension SectionManager Module
 * @author Sungho Kim(sungho-kim@nhnent.com) FE Development Team/NHN Ent.
 */


const FIND_HEADER_RX = /^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/;
const FIND_LIST_RX = /^ *(\*|-|\d+\.|[*-] \[[ xX]])\s/;
const FIND_QUOTE_RX = /^ {0,3}(> ?)+\s/;
const FIND_IMAGE_RX = /^ {0,3}!\[([^\[\]]*)]\(([^)]*)\)/;
const FIND_SETEXT_HEADER_RX = /^ *(?:={1,}|-{1,})\s*$/;
const FIND_CODEBLOCK_END_RX = /^ *(`{3,}|~{3,})[ ]*$/;
const FIND_CODEBLOCK_START_RX = /^ *(`{3,}|~{3,})[ .]*(\S+)? */;
const FIND_SPACE = /\s/g;

/**
 * SectionManager
 * manage logical markdown content sections
 * @exports SectionManager
 * @constructor
 * @class
 * @param {CodeMirror} cm codemirror
 * @param {Preview} preview preview
 */
class SectionManager {
    constructor(cm, preview) {
        this.cm = cm;
        this.preview = preview;
        this.$previewContent = preview.$el.find('.tui-editor-contents');

        /**
         *  section list
         * @type {object[]}
         */
        this._sectionList = null;

        /**
         * current working section needs making section list
         * @type {object}
         */
        this._currentSection = null;
    }

    /**
     * _addNewSection
     * add new section
     * @param {number} start initial start line number
     * @param {number} end initial end line number
     */
    _addNewSection(start, end) {
        const newSection = this._makeSectionData(start, end);
        this._sectionList.push(newSection);
        this._currentSection = newSection;
    }

    /**
     * getSectionList
     * return section list
     * @returns {object[]} section object list
     */
    getSectionList() {
        return this._sectionList;
    }

    /**
     * _makeSectionData
     * make default section object
     * @param {number} start initial start line number
     * @param {number} end initial end line number
     * @returns {object} section object
     */
    _makeSectionData(start, end) {
        return {
            start,
            end,
            $previewSectionEl: null
        };
    }

    /**
     * _updateCurrentSectionEnd
     * update current section's end line number
     * @param {number} end end value to update
     */
    _updateCurrentSectionEnd(end) {
        this._currentSection.end = end;
    }

    /**
     * _eachLineState
     * iterate codemiror lines, callback function parameter pass line type and line number
     * @param {function} iteratee callback function
     */
    _eachLineState(iteratee) {
        let isSection, i, lineString, nextLineString, prevLineString,
            isTrimming = true,
            onTable = false,
            onCodeBlock = false,
            trimCapture = '';
        let isRightAfterImageSection = false;
        let isEnsuredSection = false;
        let codeblockStartLineIndex;

        const lineLength = this.cm.getDoc().lineCount();

        for (i = 0; i &lt; lineLength; i += 1) {
            isSection = false;
            lineString = this.cm.getLine(i);
            nextLineString = this.cm.getLine(i + 1) || '';
            prevLineString = this.cm.getLine(i - 1) || '';
            const isCodeBlockEnded = this._isCodeBlockEnd(prevLineString) &amp;&amp; (codeblockStartLineIndex !== (i - 1));

            if (onTable &amp;&amp; (!lineString || !this._isTableCode(lineString))) {
                onTable = false;
            } else if (!onTable &amp;&amp; this._isTable(lineString, nextLineString)) {
                onTable = true;
            }

            if (onCodeBlock &amp;&amp; isCodeBlockEnded) {
                onCodeBlock = false;
            }
            if (!onCodeBlock &amp;&amp; this._isCodeBlockStart(lineString)) {
                onCodeBlock = this._doFollowedLinesHaveCodeBlockEnd(i, lineLength);
                codeblockStartLineIndex = i;
            }


            if (isEnsuredSection &amp;&amp; lineString.length !== 0) {
                if (this._isIndependentImage(onCodeBlock, onTable, lineString, prevLineString)) {
                    isRightAfterImageSection = true;
                    isEnsuredSection = true;
                } else {
                    isRightAfterImageSection = false;
                    isEnsuredSection = false;
                }

                isSection = true;
            } else if (this._isAtxHeader(lineString)) {
                isRightAfterImageSection = false;
                isSection = true;
                isEnsuredSection = false;
                // setext header
            } else if (!this._isCodeBlockEnd(lineString)
                &amp;&amp; !onTable
                &amp;&amp; this._isSeTextHeader(lineString, nextLineString)
            ) {
                isRightAfterImageSection = false;
                isSection = true;
                isEnsuredSection = false;
            } else if (this._isIndependentImage(onCodeBlock, onTable, lineString, prevLineString)) {
                isRightAfterImageSection = true;
                isSection = true;
                isEnsuredSection = false;
            } else if (isRightAfterImageSection &amp;&amp; lineString.length === 0) {
                isRightAfterImageSection = false;
                isEnsuredSection = true;
            }

            // 빈공간으로 시작되다다가 헤더를 만난경우 섹션은 두개가 생성되는데
            // 프리뷰에서는 빈공간이 트리밍되어 섹션 한개 밖에 생성되지 않아 매칭이 되지 않는 문제 해결
            if (isTrimming) {
                trimCapture += lineString.trim();

                if (trimCapture) {
                    isTrimming = false;
                } else {
                    continue;
                }
            }

            iteratee(isSection, i);
        }
    }

    /**
     * Return whether is independent image line with padding lines top and bottom
     * @param {boolean} onCodeBlock Is on codeblock
     * @param {boolean} onTable Is on table
     * @param {string} lineString Current line string
     * @param {string} prevLineString Previous line string
     * @returns {boolean}
     * @private
     */
    _isIndependentImage(onCodeBlock, onTable, lineString, prevLineString) {
        return !onCodeBlock &amp;&amp; !onTable
            &amp;&amp; this._isImage(lineString) &amp;&amp; !this._isList(lineString) &amp;&amp; !this._isQuote(lineString)
            &amp;&amp; prevLineString.length === 0;
    }

    /**
     * _doFollowedLinesHaveCodeBlockEnd
     * Check if follow lines have codeblock end
     * @param {number} lineIndex current index
     * @param {number} lineLength line length
     * @returns {boolean} result
     */
    _doFollowedLinesHaveCodeBlockEnd(lineIndex, lineLength) {
        let doLineHaveCodeBlockEnd = false;

        for (let i = lineIndex + 1; i &lt; lineLength; i += 1) {
            if (this._isCodeBlockEnd(this.cm.getLine(i))) {
                doLineHaveCodeBlockEnd = true;
                break;
            }
        }

        return doLineHaveCodeBlockEnd;
    }

    /**
     * _isCodeBlockStart
     * Check if passed string have code block start
     * @param {string} string string to check
     * @returns {boolean} result
     */
    _isCodeBlockStart(string) {
        return FIND_CODEBLOCK_START_RX.test(string);
    }

    /**
     * _isCodeBlockEnd
     * Check if passed string have code block end
     * @param {string} string string to check
     * @returns {boolean} result
     */
    _isCodeBlockEnd(string) {
        return FIND_CODEBLOCK_END_RX.test(string);
    }

    /**
     * _isTable
     * Check if passed string have table
     * @param {string} lineString current line string
     * @param {string} nextLineString next line string
     * @returns {boolean} result
     */
    _isTable(lineString, nextLineString) {
        return (this._isTableCode(lineString) &amp;&amp; this._isTableAligner(nextLineString));
    }

    /**
     * _isTableCode
     * Check if passed string have table code
     * @param {string} string string to check
     * @returns {boolean} result
     */
    _isTableCode(string) {
        return /(^\S?.*\|.*)/.test(string);
    }

    /**
     * _isTableAligner
     * Check if passed string have table align code
     * @param {string} string string to check
     * @returns {boolean} result
     */
    _isTableAligner(string) {
        return /(\s*[-:]+\s*\|)+/.test(string);
    }

    /**
     * _isAtxHeader
     * Check if passed string have atx header
     * @param {string} string string to check
     * @returns {boolean} result
     */
    _isAtxHeader(string) {
        return FIND_HEADER_RX.test(string);
    }

    /**
     * _isSeTextHeader
     * @param {string} lineString current line string
     * @param {string} nextLineString next line string
     * @returns {boolean} result
     */
    _isSeTextHeader(lineString, nextLineString) {
        return lineString.replace(FIND_SPACE, '') !== ''
            &amp;&amp; nextLineString
            &amp;&amp; FIND_SETEXT_HEADER_RX.test(nextLineString);
    }

    _isImage(lineString) {
        return FIND_IMAGE_RX.test(lineString);
    }

    _isList(lineString) {
        return FIND_LIST_RX.test(lineString);
    }

    _isQuote(lineString) {
        return FIND_QUOTE_RX.test(lineString);
    }

    /**
     * makeSectionList
     * make section list
     */
    makeSectionList() {
        this._sectionList = [];

        this._eachLineState((isSection, lineNumber) => {
            if (isSection || !this._sectionList.length) {
                this._addNewSection(lineNumber, lineNumber);
            } else {
                this._updateCurrentSectionEnd(lineNumber);
            }
        });
    }

    /**
     * sectionMatch
     * make preview sections then match section list with preview section element
     */
    sectionMatch() {
        if (this._sectionList) {
            const sections = this._getPreviewSections();
            this._matchPreviewSectionsWithSectionlist(sections);
        }
    }

    /**
     * _matchPreviewSectionsWithSectionlist
     * match section list with preview section element
     * @param {HTMLNode[]} sections section nodes
     */
    _matchPreviewSectionsWithSectionlist(sections) {
        sections.forEach((childs, index) => {
            if (this._sectionList[index]) {
                const $sectionDiv = $(`&lt;div class='content-id-${index}'>&lt;/div>`);
                this._sectionList[index].$previewSectionEl = $(childs).wrapAll($sectionDiv).parent();
            }
        });
    }

    /**
     * _getPreviewSections
     * get preview html section group to make section
     * @returns {array[]} element node array
     */
    _getPreviewSections() {
        const sections = [];
        let lastSection = 0;
        let isRightAfterImageSection = false;

        sections[0] = [];

        this.$previewContent.contents().filter(findElementNodeFilter).each((index, el) => {
            const isParagraph = (el.tagName === 'P');
            const isHeading = el.tagName.match(/^(H1|H2|H3|H4|H5|H6)$/);
            const isImage = (isParagraph &amp;&amp; el.childNodes[0].nodeName === 'IMG');

            if ((isHeading || isImage || isRightAfterImageSection)
                &amp;&amp; sections[lastSection].length
            ) {
                sections.push([]);
                lastSection += 1;
                isRightAfterImageSection = false;
            }

            if (isImage) {
                isRightAfterImageSection = true;
            }

            sections[lastSection].push(el);
        });

        return sections;
    }

    /**
     * _sectionByLine
     * get section by markdown line
     * @param {number} line markdown editor line number
     * @returns {object} section
     */
    sectionByLine(line) {
        let sectionIndex;
        const sectionList = this._sectionList;
        const sectionLength = sectionList.length;

        for (sectionIndex = 0; sectionIndex &lt; sectionLength; sectionIndex += 1) {
            if (line &lt;= sectionList[sectionIndex].end) {
                break;
            }
        }

        if (sectionIndex === sectionLength) {
            sectionIndex = sectionLength - 1;
        }

        return sectionList[sectionIndex];
    }
}

/**
 * findElementNodeFilter
 * @this Node
 * @returns {boolean} true or not
 * @ignore
 */
function findElementNodeFilter() {
    return this.nodeType === Node.ELEMENT_NODE;
}

module.exports = SectionManager;
</code></pre>
        </article>
    </section>




</div>

<footer>
    <img class="logo" src="img/toast-ui.png" style="">
    <div class="footer-text">NHN Entertainment. Frontend Development Lab</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        var id = '_sub'.replace(/"/g, '_');
        var element = document.getElementById(id); // do not use jquery selector

        $(element).removeClass('hidden');
        showLnbApi();
    </script>

</body>
</html>
