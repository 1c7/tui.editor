tui.util.defineNamespace("fedoc.content", {});
fedoc.content["wwSelectionMarker.js.html"] = "      <div id=\"main\" class=\"main\">\n\n\n\n    \n    <section>\n        <article>\n            <pre class=\"prettyprint source linenums\"><code>/**\n * @fileoverview Implements selection marker for wysiwyg\n * @author Sungho Kim(sungho-kim@nhnent.com) FE Development Team/NHN Ent.\n */\n\n'use strict';\n\nvar domUtils = require('./domUtils');\n\nvar MARKER_CSS_CLASS = 'tui-editor-selection-marker';\n\n/**\n * WwSelectionMarker\n * @exports WwSelectionMarker\n * @class WwSelectionMarker\n * @constructor\n */\nfunction WwSelectionMarker() {\n    this._markerNode = null;\n}\n\n/**\n * insertMarker\n * @param {Range} range range\n * @param {SquireExt} sq SquireExt instance\n * @returns {Range} range range\n * @memberOf WwSelectionMarker\n * @api\n */\nWwSelectionMarker.prototype.insertMarker = function(range, sq) {\n    this._markerNode = this._makeMarker(sq);\n\n    range.insertNode(this._markerNode);\n    range.setStartAfter(this._markerNode);\n\n    return range;\n};\n\n/**\n * _makeMarker\n * Make marker element\n * @param {SquireExt} sq SquireExt instance\n * @returns {Node} marker\n * @memberOf WwSelectionMarker\n * @private\n */\nWwSelectionMarker.prototype._makeMarker = function(sq) {\n    return sq.createElement('INPUT', {type: 'hidden', class: MARKER_CSS_CLASS});\n};\n\n/**\n * restore\n * Restore marker to selection\n * @param {SquireExt} sq SquireExt instance\n * @returns {Range} range\n * @memberOf WwSelectionMarker\n * @api\n */\nWwSelectionMarker.prototype.restore = function(sq) {\n    var newRange = sq.getSelection().cloneRange();\n\n    newRange.setStartBefore(this._markerNode);\n    newRange.collapse(true);\n\n    sq.setSelection(newRange);\n\n    $(this._markerNode).remove();\n\n    //task안의 컬러의 경우, 컨테이너가 컬러span 그리고 startOffset이 0인경우 컬러가 끊긴다.\n    //입력시 컬러가 이어지도록하려면 추가 보정이 필요하다\n    if (newRange.startOffset === 0\n        &amp;&amp; domUtils.isTextNode(newRange.startContainer.childNodes[0])\n        &amp;&amp; !newRange.startContainer.childNodes[0].textContent.replace(/\\u200B/, '')\n    ) {\n        newRange.setStart(newRange.startContainer.childNodes[0], 1);\n        sq.setSelection(newRange);\n    }\n\n    return newRange;\n};\n\nmodule.exports = WwSelectionMarker;\n</code></pre>\n        </article>\n    </section>\n\n\n\n</div>\n\n"